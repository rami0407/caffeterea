<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø·Ù„Ø¨Ø§Øª - Ø¨Ø°ÙˆØ± Ø§Ù„Ù…Ø¹Ø±ÙØ©">
    <title>Ø§Ù„Ø·Ù„Ø¨Ø§Øª | Ø¨Ø°ÙˆØ± Ø§Ù„Ù…Ø¹Ø±ÙØ©</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&family=Heebo:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/cafeteria.css">
</head>

<body>
    <!-- Header -->
    <header class="app-header cafeteria-header">
        <div class="header-right">
            <a href="../index.html" class="logo-mini">ğŸŒ±</a>
            <h1 class="header-title" data-i18n="cafeteria">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù‚ØµÙ</h1>
        </div>
        <div class="header-left">
            <!-- Navigation Tabs for Modes (Orders vs Products) -->
            <div class="mode-switcher">
                <button class="mode-btn active" onclick="switchMode('orders')">ğŸ“¦ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</button>
                <button class="mode-btn" onclick="switchMode('products')">â• Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</button>
            </div>

            <div class="lang-mini">
                <button class="lang-mini-btn active" data-lang="ar">Ø¹</button>
                <button class="lang-mini-btn" data-lang="he">×¢</button>
            </div>
        </div>
    </header>

    <!-- ORDERS VIEW -->
    <section id="ordersView" class="view-section active">
        <!-- Status Tabs -->
        <nav class="status-tabs">
            <button class="status-tab active" data-status="pending">
                <span class="tab-icon">â³</span>
                <span class="tab-label">Ø¬Ø¯ÙŠØ¯</span>
                <span class="tab-count" id="pendingCount">0</span>
            </button>
            <button class="status-tab" data-status="preparing">
                <span class="tab-icon">ğŸ‘¨â€ğŸ³</span>
                <span class="tab-label">Ù‚ÙŠØ¯ Ø§Ù„ØªØ­Ø¶ÙŠØ±</span>
                <span class="tab-count" id="preparingCount">0</span>
            </button>
            <button class="status-tab" data-status="ready">
                <span class="tab-icon">âœ…</span>
                <span class="tab-label">Ø¬Ø§Ù‡Ø²</span>
                <span class="tab-count" id="readyCount">0</span>
            </button>
        </nav>

        <!-- Main Content -->
        <main class="main-content cafeteria-content">
            <div class="orders-display" id="ordersDisplay">
                <!-- Orders will be loaded here -->
            </div>

            <div class="empty-state hidden" id="emptyState">
                <span class="empty-icon">ğŸ“‹</span>
                <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                <small>Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ ÙÙˆØ±Ø§Ù‹</small>
            </div>
        </main>
    </section>

    <!-- PRODUCTS VIEW -->
    <section id="productsView" class="view-section" style="display: none;">
        <main class="main-content product-manage-content">
            <div class="product-form-card">
                <h2>Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯</h2>
                <form id="addProductForm" onsubmit="handleAddProduct(event)">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ø¹Ø±Ø¨ÙŠ)</label>
                            <input type="text" id="prodNameAr" required placeholder="Ù…Ø«Ø§Ù„: Ø³Ù†Ø¯ÙˆÙŠØ´ Ø¬Ø¨Ù†Ø©">
                        </div>
                        <div class="form-group">
                            <label>Ø§Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬ (Ø¹Ø¨Ø±ÙŠ)</label>
                            <input type="text" id="prodNameHe" required placeholder="×“×•×’××”: ×›×¨×™×š ×’×‘×™× ×”">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Ø§Ù„Ø³Ø¹Ø± (Ù†Ù‚Ø·Ø©)</label>
                            <input type="number" id="prodPrice" required min="1" max="20" placeholder="5">
                        </div>
                        <div class="form-group">
                            <label>Ø§Ù„ÙØ¦Ø©</label>
                            <select id="prodCategory" required>
                                <option value="sandwiches">Ø³Ù†Ø¯ÙˆÙŠØ´Ø§Øª ğŸ¥ª</option>
                                <option value="drinks">Ù…Ø´Ø±ÙˆØ¨Ø§Øª ğŸ¥¤</option>
                                <option value="snacks">ÙˆØ¬Ø¨Ø§Øª Ø®ÙÙŠÙØ© ğŸª</option>
                                <option value="healthy">ØµØ­ÙŠ ğŸ¥—</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© (Ø§ÙŠÙ…ÙˆØ¬ÙŠ)</label>
                            <input type="text" id="prodIcon" required class="emoji-input" placeholder="ğŸ”">
                        </div>
                        <div class="form-group">
                            <label>Ø§Ù„Ø¥Ø´Ø§Ø±Ø© Ø§Ù„Ø¶ÙˆØ¦ÙŠØ©</label>
                            <select id="prodTraffic" required>
                                <option value="green">ğŸŸ¢ Ø£Ø®Ø¶Ø± (ØµØ­ÙŠ Ø¬Ø¯Ø§Ù‹)</option>
                                <option value="yellow">ğŸŸ¡ Ø£ØµÙØ± (Ù…ØªÙˆØ³Ø·)</option>
                                <option value="red">ğŸ”´ Ø£Ø­Ù…Ø± (Ù‚Ù„Ù„ Ù…Ù†Ù‡)</option>
                            </select>
                        </div>
                    </div>

                    <button type="submit" class="btn-add-product">âœ¨ Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø§Ø¦Ù…Ø©</button>
                </form>
            </div>
        </main>
    </section>



    <!-- Sound & Toast -->
    <audio id="notificationSound" preload="auto">
        <source
            src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2teleQAtZNLS/+lgQCqZxt28f0UXLYi/tYVVNxxKi7Wtm2MoEz2IvrSVcDQJK3e2ub+GRgYoea+6t5RYCh5ysb3CreZvNCVrmLPJ6sp1DhZcobXM"
            type="audio/wav">
    </audio>
    <div id="toast" class="toast"></div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
    <script src="../js/firebase-config.js?v=2.6"></script>
    <script src="../js/i18n.js?v=2.6"></script>
    <script src="../js/cafeteria.js?v=2.6"></script>

    <style>
        /* Embedded CSS for new elements for speed */
        .security-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }

        .security-box {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            text-align: center;
            width: 300px;
        }

        .security-box input {
            width: 100%;
            padding: 10px;
            margin: 15px 0;
            font-size: 1.2rem;
            text-align: center;
        }

        .security-box button {
            width: 100%;
            padding: 10px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .mode-switcher {
            display: flex;
            gap: 10px;
        }

        .mode-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            color: var(--primary-dark);
            font-weight: bold;
        }

        .mode-btn.active {
            background: white;
            color: var(--primary-color);
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .product-form-card {
            background: white;
            padding: 2rem;
            border-radius: 1rem;
            max-width: 600px;
            margin: 2rem auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .form-group input,
        .form-group select {
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .btn-add-product {
            width: 100%;
            padding: 12px;
            background: var(--success-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
        }
    </style>
</body>

</html>